#:kivy 1.0.9

<Screen>:  
    playarea: playarea
    player_screen: player_screen
    dealer_screen: dealer_screen
    buttonstrip: buttonstrip
    cash_label: cash_label
    bet_size: bet_size
    shoe: shoe
       
    orientation: 'vertical'
    spacing: 5
    padding: [5, 5, 5, 5]

    BoxLayout:
        id: outer
        size_hint_y: .9
        BoxLayout:
            id: infostrip
            orientation: 'vertical'
            size_hint_x: .1
            spacing: 1
            Label:
                id: shoe
                halign: 'center'
                size_hint_y: .2
            Label:
                text: 'CASH:'
                text_size: self.size
                valign: 'bottom'
                halign: 'center'
                size_hint_y: .05
            Label:
                id: cash_label
                size_hint_y: .05
                font_size: '30dp'
            Label:
                text: 'BET SIZE:'
                text_size: self.size
                valign: 'bottom'
                halign: 'center'
                size_hint_y: .05
            Label:
                text: '{:,.0f}'.format(bet_size.value)
                font_size: '30dp'
                size_hint_y: .05
            KivyBettingStrategy:
                id: bet_size
                size_hint_y: .6
                orientation: 'vertical'
        BoxLayout:
            id: playarea
            orientation: 'vertical'
            padding: [5, 5, 5, 5]
            spacing: '25dp'
            BoxLayout:
                id: dealer_screen
                pos_hint: {'x': 0.4 if len(self.children) < 6 else 0.2}
            BoxLayout:
                id: player_screen
                size_hint_x: None
                # left margin
                pos_hint: {'x': max(0.4 - len(root.playerhands) / 10, 0)}
                # space between hands
                #spacing: max(150 - max(len(root.playerhands) - 3, 0) * 65, 15)
    BoxLayout:
        id: buttonstrip
        size_hint_y: .1
        padding: [5, 5, 5, 5]
        DealButton

<KivyGameStrategy>:
    spacing: '10dp'
    

<DealButton>:
    spacing: '40dp'
    padding: [20, 1, 20, 1]
    Button:
        size_hint_x: .7
        text: 'Deal'
        on_release: app.screen.play()

<InsuranceButtons>:
    spacing: '40dp'
    padding: [40, 1, 40, 1]
    Label:
        text: 'INSURANCE?'
        size_hint_x: .5
    Button:
        size_hint_x: .25
        text: 'Yes'
        on_release: root.yes()
    Button:
        size_hint_x: .25
        text: 'No'
        on_release: root.no()

<PlayerCardView>:
    size_hint_x: None
    padding: [2, 2, 2, 2]

<DealerCardView>:
    size_hint_x: None
    padding: [2, 2, 2, 2]


<PointsLabel>:
    size_hint: None, None
    font_size: '25dp'
    padding: [5, 5]
    pos_hint: {'center_y': .5}

<KivyBettingStrategy>:
    
<WelcomeScreen>:
    title: 'Welcome!'
    title_align: 'center'
    size_hint: .75, .75
    Label:
        text: '[size=30]Welcome to\n\n[/size][size=75]BlackJack\n[/size]Set bet size with the slider on the left\nPush \'Deal\' to begin.'
        markup: True
        halign: 'center'


    





